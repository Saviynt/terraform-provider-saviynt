---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "saviynt_enterprise_roles_resource Resource - saviynt"
subcategory: ""
description: |-
  Manages enterprise roles in Saviynt. This resource allows you to create and update roles with comprehensive configuration options including owners, users, entitlements, custom properties, and child role assignments(Only in 25.B).
---

# saviynt_enterprise_roles_resource (Resource)

Manages enterprise roles in Saviynt. This resource allows you to create and update roles with comprehensive configuration options including owners, users, entitlements, custom properties, and child role assignments(Only in 25.B).

## Example Usage

```terraform
// Copyright (c) 2025 Saviynt Inc.
// SPDX-License-Identifier: MPL-2.0

resource "saviynt_enterprise_roles_resource" "example" {
  # Required attributes
  role_name = "TF_Enterprise_Role_Example"
  role_type = "ENTERPRISE"
  requestor = "admin"
  owners = [
    # Role owners with different ranks
    {
      owner_name = "admin"
      rank       = "1"
    },
    {
      owner_name = "roleowner1"
      rank       = "2"
    },
    {
      owner_name = "certifier1"
      rank       = "26" # Primary Certifier
    }
  ]

  # Basic role information
  description   = "Example enterprise role created via Terraform"
  display_name  = "Terraform Enterprise Role Example"
  glossary      = "This is an example enterprise role for demonstration purposes"
  endpoint_name = "System1"

  # Time frame configuration
  default_time_frame = "168" # 7 days in hours

  # Role properties
  requestable        = "true"
  show_dynamic_attrs = "true"
  check_sod          = "true"

  # Criticality levels
  sox_critical    = "Medium"
  sys_critical    = "High"
  privileged      = "Low"
  confidentiality = "Medium"
  risk            = "Low"
  level           = "2"


  # Entitlements associated with the role
  entitlements = [
    {
      endpoint          = "System1"
      entitlement_type  = "Groups"
      entitlement_value = "HR_Group"
    },
    {
      endpoint          = "System1"
      entitlement_type  = "Groups"
      entitlement_value = "Finance_Read"
    }
  ]

  # Child roles associated with the role (available in Saviynt 25.B+)
  child_roles = [
    {
      role_name = "Junior_HR_Role"
    },
    {
      role_name = "Temp_Access_Role"
    }
  ]

  # Users assigned to the role
  users = [
    {
      user_name = "john.doe"
    },
    {
      user_name = "jane.smith"
    },
    {
      user_name = "bob.johnson"
    }
  ]

  # Custom properties for additional metadata
  custom_property1 = "Department: HR"
  custom_property2 = "Cost Center: 1001"
  custom_property3 = "Business Unit: Corporate"
  custom_property4 = "Approval Required: Yes"
  custom_property5 = "Review Frequency: Quarterly"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `requestor` (String) Username of the person requesting the role creation. This should be a valid Saviynt user who has permissions to create roles.
- `role_name` (String) Unique name of the role. This will be used as the identifier for the role in Saviynt and must be unique across all roles.
- `role_type` (String) Type of the role. Valid values: 'ENABLER', 'TRANSACTIONAL', 'FIREFIGHTER', 'ENTERPRISE', 'APPLICATION', 'ENTITLEMENT'.

### Optional

- `check_sod` (String) Indicates if segregation of duties (SoD) checks should be performed
- `child_roles` (Set of Object) Set of child roles associated with the role. Child roles provide conditional access - when a user requests entitlements from a child role, the system checks if they have the parent role entitlements. Conversely, requesting parent role entitlements automatically grants child role entitlements. To add child roles, include them in the set; to remove child roles, exclude them from the set. Each child role requires 'role_name'. Note: This attribute is only available in Saviynt version 25.B and later. (see [below for nested schema](#nestedatt--child_roles))
- `confidentiality` (String) Select the confidentiality of this role. Valid options: 'None', 'Very Low', 'Low', 'Medium', 'High', 'Critical'.
- `custom_property1` (String) Custom Property 1.
- `custom_property10` (String) Custom Property 10.
- `custom_property11` (String) Custom Property 11.
- `custom_property12` (String) Custom Property 12.
- `custom_property13` (String) Custom Property 13.
- `custom_property14` (String) Custom Property 14.
- `custom_property15` (String) Custom Property 15.
- `custom_property16` (String) Custom Property 16.
- `custom_property17` (String) Custom Property 17.
- `custom_property18` (String) Custom Property 18.
- `custom_property19` (String) Custom Property 19.
- `custom_property2` (String) Custom Property 2.
- `custom_property20` (String) Custom Property 20.
- `custom_property21` (String) Custom Property 21.
- `custom_property22` (String) Custom Property 22.
- `custom_property23` (String) Custom Property 23.
- `custom_property24` (String) Custom Property 24.
- `custom_property25` (String) Custom Property 25.
- `custom_property26` (String) Custom Property 26.
- `custom_property27` (String) Custom Property 27.
- `custom_property28` (String) Custom Property 28.
- `custom_property29` (String) Custom Property 29.
- `custom_property3` (String) Custom Property 3.
- `custom_property30` (String) Custom Property 30.
- `custom_property31` (String) Custom Property 31.
- `custom_property32` (String) Custom Property 32.
- `custom_property33` (String) Custom Property 33.
- `custom_property34` (String) Custom Property 34.
- `custom_property35` (String) Custom Property 35.
- `custom_property36` (String) Custom Property 36.
- `custom_property37` (String) Custom Property 37.
- `custom_property38` (String) Custom Property 38.
- `custom_property39` (String) Custom Property 39.
- `custom_property4` (String) Custom Property 4.
- `custom_property40` (String) Custom Property 40.
- `custom_property41` (String) Custom Property 41.
- `custom_property42` (String) Custom Property 42.
- `custom_property43` (String) Custom Property 43.
- `custom_property44` (String) Custom Property 44.
- `custom_property45` (String) Custom Property 45.
- `custom_property46` (String) Custom Property 46.
- `custom_property47` (String) Custom Property 47.
- `custom_property48` (String) Custom Property 48.
- `custom_property49` (String) Custom Property 49.
- `custom_property5` (String) Custom Property 5.
- `custom_property50` (String) Custom Property 50.
- `custom_property51` (String) Custom Property 51.
- `custom_property52` (String) Custom Property 52.
- `custom_property53` (String) Custom Property 53.
- `custom_property54` (String) Custom Property 54.
- `custom_property55` (String) Custom Property 55.
- `custom_property56` (String) Custom Property 56.
- `custom_property57` (String) Custom Property 57.
- `custom_property58` (String) Custom Property 58.
- `custom_property59` (String) Custom Property 59.
- `custom_property6` (String) Custom Property 6.
- `custom_property60` (String) Custom Property 60.
- `custom_property7` (String) Custom Property 7.
- `custom_property8` (String) Custom Property 8.
- `custom_property9` (String) Custom Property 9.
- `default_time_frame` (String) Specify the default time frame (in hours) to request access for a role. This defines how long users will have access when assigned this role.
- `description` (String) Displays the description of the role. You can change the description, as required. This helps users understand what the role is for and what permissions it grants.
- `display_name` (String) Displays the display name of the role. This is a user-friendly name that can be different from the role_name.
- `endpoint_name` (String) Name of the endpoint associated with this role. Must be an existing endpoint in Saviynt.
- `entitlements` (Set of Object) Set of entitlements associated with the role. Entitlements dictate user (role assignee) responsibility in managing an application. To add entitlements, include them in the set; to remove entitlements, exclude them from the set. Each entitlement requires 'entitlement_value', 'entitlement_type', and 'endpoint'. (see [below for nested schema](#nestedatt--entitlements))
- `glossary` (String) Displays the Glossary about the role. This provides additional context and definitions related to the role.
- `level` (String) Enter the hierarchy level of this role. This defines the role's position in the organizational hierarchy.
- `owners` (Set of Object) Set of role owners with their respective ranks. Each owner must have 'owner_name' (valid Saviynt username) and 'rank' (1-27, where 1 is highest priority). The same owner can have up to 5 different ranks. To add owners, include them in the set; to remove owners, exclude them from the set. (see [below for nested schema](#nestedatt--owners))
- `privileged` (String) Select the privileged criticality of the role which describes privileges assigned to the role and amount of risk to provide access to this role. Valid options: 'None', 'Very Low', 'Low', 'Medium', 'High', 'Critical'.
- `requestable` (String) Specify if you want the users to request for the role. Valid options: 'true' (makes the role requestable), 'false' (makes the role non-requestable). Defaults to 'true'.
- `risk` (String) Displays the risk level specified for the role required during the separation of duties based on the roles. Valid options: 'None', 'Very Low', 'Low', 'Medium', 'High', 'Critical'.
- `show_dynamic_attrs` (String) Displays the dynamic attributes associated with the role. For example, there is a Dynamic Attribute A, which is Boolean set as true and false.
- `sox_critical` (String) Select the SOX criticality of the role. Valid options: 'None', 'Very Low', 'Low', 'Medium', 'High', 'Critical'.
- `sys_critical` (String) Select the SYS criticality of the role. Valid options: 'None', 'Very Low', 'Low', 'Medium', 'High', 'Critical'.
- `users` (Set of Object) Set of users assigned to the role. To add users to the role, include them in the set; to remove users from the role, exclude them from the set. Each user requires 'user_name' (valid Saviynt username). When users are assigned to a role, they inherit all entitlements and permissions associated with that role. (see [below for nested schema](#nestedatt--users))

### Read-Only

- `id` (String) Unique identifier of the role resource. This is automatically generated as 'roles-' + role_name.

<a id="nestedatt--child_roles"></a>
### Nested Schema for `child_roles`

Optional:

- `role_name` (String)


<a id="nestedatt--entitlements"></a>
### Nested Schema for `entitlements`

Optional:

- `endpoint` (String)
- `entitlement_type` (String)
- `entitlement_value` (String)


<a id="nestedatt--owners"></a>
### Nested Schema for `owners`

Optional:

- `owner_name` (String)
- `rank` (String)


<a id="nestedatt--users"></a>
### Nested Schema for `users`

Optional:

- `user_name` (String)

## Troubleshooting

### User Operation Failures

**Issue**: When creating roles with users that don't exist or are inactive, you may see warnings about user operation failures.

**Symptoms**:
```
Warning: User Operation Failed During Role Creation

Role 'my-role' was created successfully, but some users failed to be added: 
failed to add 1/3 users to role my-role: User nonexistent_user: 
[{HTTP error while adding user: user nonexistent_user inactive or not found HTTP Error}]
```

**Resolution Options**:

**Option 1: Fix Users and Reapply (Recommended)**
1. Verify user existence in Saviynt UI
2. **Add missing users** to Saviynt or **fix usernames** in Terraform config
3. Run terraform apply again to add the corrected users:
   ```bash
   terraform apply
   ```

**Option 2: If You Encounter "Delete Not Supported" Error**
If you accidentally tried to remove users from config and got the delete error:
```bash
terraform untaint saviynt_enterprise_roles_resource.resource_name
terraform apply
```

**Option 3: Reset State for Clean Retry**
```bash
terraform untaint saviynt_enterprise_roles_resource.resource_name
terraform apply
```

**Option 4: Import Existing Role State**
```bash
terraform state rm saviynt_enterprise_roles_resource.resource_name
terraform import saviynt_enterprise_roles_resource.resource_name "role-name"
terraform apply
```

### Manual Task Completion

**Important**: When users are successfully added to roles, Saviynt creates tasks that require manual completion:

1. Navigate to **Pending Tasks** section in Saviynt UI
2. Approve/complete the user assignment tasks manually
3. After task completion, running `terraform plan` may show drift due to state changes
4. Use `terraform import` to sync the current state:
   ```bash
   terraform import saviynt_enterprise_roles_resource.resource_name "role-name"
   ```

**Note**: The provider handles user failures gracefully - roles are created successfully even if some users fail, allowing incremental fixes.